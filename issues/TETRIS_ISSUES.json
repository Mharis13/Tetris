{
  "project": {
    "name": "Tetris Autoritario",
    "description": "Sistema Tetris con control total del servidor, anti-cheat, JWT auth, y leaderboard Redis",
    "version": "1.0.0",
    "estimatedDuration": "186 hours",
    "estimatedSprints": 5
  },
  "milestones": [
    {
      "id": "H1",
      "name": "Configuración Inicial del Proyecto",
      "description": "Setup de monorepo, backend y frontend base",
      "estimatedHours": 8,
      "sprint": 1
    },
    {
      "id": "H2",
      "name": "Backend - Sistema Core de Tetris",
      "description": "Lógica de juego, matriz, tetrominos, validación, scoring",
      "estimatedHours": 31,
      "sprint": 1-2
    },
    {
      "id": "H3",
      "name": "Backend - Socket.io Server",
      "description": "Comunicación real-time, rooms, event handlers",
      "estimatedHours": 24,
      "sprint": 2
    },
    {
      "id": "H4",
      "name": "Autenticación con JWT",
      "description": "Auth endpoints, middleware Socket.io, gestión de usuarios",
      "estimatedHours": 18,
      "sprint": 2-3
    },
    {
      "id": "H5",
      "name": "Redis - Leaderboard Global",
      "description": "Sorted Sets, API de leaderboard, rankings temporales",
      "estimatedHours": 18,
      "sprint": 2-3
    },
    {
      "id": "H6",
      "name": "Frontend React + TypeScript",
      "description": "UI completa, socket client, input system, vistas",
      "estimatedHours": 41,
      "sprint": 3-4
    },
    {
      "id": "H7",
      "name": "Testing y Calidad",
      "description": "Tests unitarios, integración, E2E",
      "estimatedHours": 28,
      "sprint": 4
    },
    {
      "id": "H8",
      "name": "DevOps y Deployment",
      "description": "Docker, CI/CD, monitoring, documentación",
      "estimatedHours": 18,
      "sprint": 5
    }
  ],
  "tasks": [
    {
      "id": "TASK-001",
      "title": "Inicializar Monorepo",
      "milestone": "H1",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 2,
      "assignee": null,
      "labels": ["setup", "infrastructure"],
      "dependencies": [],
      "description": "Configurar estructura de monorepo con workspace para backend y frontend",
      "acceptanceCriteria": [
        "Estructura de directorios: /backend, /frontend, /shared",
        "package.json raíz con workspaces configurados",
        ".gitignore configurado para node_modules, .env, dist",
        "README.md actualizado con instrucciones de setup"
      ]
    },
    {
      "id": "TASK-002",
      "title": "Configurar Backend Base",
      "milestone": "H1",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 3,
      "assignee": null,
      "labels": ["backend", "setup"],
      "dependencies": ["TASK-001"],
      "description": "Inicializar proyecto Node.js con TypeScript y estructura base",
      "acceptanceCriteria": [
        "Node.js v18+ configurado",
        "TypeScript configurado con strict mode",
        "ESLint + Prettier configurados",
        "Scripts npm: dev, build, start",
        "Estructura de carpetas: src/{server, game, auth, redis}"
      ]
    },
    {
      "id": "TASK-003",
      "title": "Configurar Frontend Base",
      "milestone": "H1",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 3,
      "assignee": null,
      "labels": ["frontend", "setup"],
      "dependencies": ["TASK-001"],
      "description": "Inicializar proyecto React + TypeScript con Vite",
      "acceptanceCriteria": [
        "Vite + React + TypeScript configurado",
        "ESLint + Prettier configurados",
        "Estructura de carpetas: src/{components, hooks, services, types}",
        "Scripts npm: dev, build, preview",
        "Hot reload funcionando"
      ]
    },
    {
      "id": "TASK-004",
      "title": "Implementar Matriz de Juego (10x20)",
      "milestone": "H2",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["backend", "game-logic", "core"],
      "dependencies": ["TASK-002"],
      "description": "Crear clase GameBoard que gestione la matriz 10x20 del tablero",
      "acceptanceCriteria": [
        "Clase GameBoard con matriz 10x20 inicializada",
        "Métodos: getCell(x, y), setCell(x, y, value), clearRow(y)",
        "Validación de límites de coordenadas",
        "Tests unitarios con cobertura >80%",
        "Tipos TypeScript para Cell, Board, Coordinates"
      ]
    },
    {
      "id": "TASK-005",
      "title": "Implementar Sistema de Tetrominos",
      "milestone": "H2",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 6,
      "assignee": null,
      "labels": ["backend", "game-logic", "core"],
      "dependencies": ["TASK-004"],
      "description": "Crear clases para los 7 tipos de tetrominos (I, O, T, S, Z, J, L)",
      "acceptanceCriteria": [
        "Enum TetrominoType con 7 tipos",
        "Clase Tetromino con propiedades: type, position, rotation",
        "Matrices de rotación para cada tipo (0°, 90°, 180°, 270°)",
        "Método rotate() con sistema SRS (Super Rotation System)",
        "Tests para cada tipo de pieza y rotaciones"
      ]
    },
    {
      "id": "TASK-006",
      "title": "Implementar Validación de Movimientos (Anti-Cheat)",
      "milestone": "H2",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["backend", "game-logic", "security", "critical"],
      "dependencies": ["TASK-005"],
      "description": "Sistema de validación server-side para todos los movimientos",
      "acceptanceCriteria": [
        "Método validateMove(tetromino, board): boolean",
        "Validar colisiones con bordes",
        "Validar colisiones con piezas existentes",
        "Validar rotaciones con wall-kick",
        "Log de intentos de trampas",
        "Tests de edge cases (movimientos inválidos)"
      ]
    },
    {
      "id": "TASK-007",
      "title": "Implementar Tick Rate de Caída",
      "milestone": "H2",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["backend", "game-logic", "core"],
      "dependencies": ["TASK-006"],
      "description": "Sistema de gravedad automática basado en intervalos",
      "acceptanceCriteria": [
        "Clase GameTicker con setInterval configurable",
        "Tick rate inicial: 1000ms (1 segundo)",
        "Aceleración progresiva: -50ms cada 10 líneas",
        "Tick rate mínimo: 100ms",
        "Pausar/reanudar funcionalidad",
        "Evento onTick que mueve pieza hacia abajo"
      ]
    },
    {
      "id": "TASK-008",
      "title": "Implementar Detección de Líneas Completas",
      "milestone": "H2",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["backend", "game-logic", "core"],
      "dependencies": ["TASK-004"],
      "description": "Sistema para detectar y eliminar líneas completas",
      "acceptanceCriteria": [
        "Método detectFullRows(): number[]",
        "Método clearRows(rows: number[]): void",
        "Aplicar gravedad a filas superiores",
        "Calcular puntuación: 100 (1 línea), 300 (2), 500 (3), 800 (4)",
        "Evento onLinesCleared con puntuación",
        "Tests para casos múltiples líneas"
      ]
    },
    {
      "id": "TASK-009",
      "title": "Implementar Sistema de Puntuación",
      "milestone": "H2",
      "status": "TODO",
      "priority": "MEDIUM",
      "estimatedHours": 3,
      "assignee": null,
      "labels": ["backend", "game-logic", "scoring"],
      "dependencies": ["TASK-008"],
      "description": "Sistema de scoring con nivel y multiplicadores",
      "acceptanceCriteria": [
        "Clase ScoreManager con score, level, lines",
        "Cálculo de nivel: floor(lines / 10)",
        "Puntos por pieza colocada: 10 * level",
        "Puntos por soft drop: 1 por celda",
        "Puntos por hard drop: 2 por celda",
        "Persistencia de high score"
      ]
    },
    {
      "id": "TASK-010",
      "title": "Implementar Game State Manager",
      "milestone": "H2",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["backend", "game-logic", "core", "critical"],
      "dependencies": ["TASK-009"],
      "description": "Clase que gestiona el estado completo del juego por usuario",
      "acceptanceCriteria": [
        "Clase GameState con: board, currentPiece, nextPieces, score, level",
        "Estados: IDLE, PLAYING, PAUSED, GAME_OVER",
        "Métodos: startGame(), pauseGame(), endGame()",
        "Serialización del estado completo a JSON",
        "Validación de transiciones de estado",
        "Tests de integración del flujo completo"
      ]
    },
    {
      "id": "TASK-011",
      "title": "Configurar Socket.io Server",
      "milestone": "H3",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["backend", "socket.io", "infrastructure"],
      "dependencies": ["TASK-002"],
      "description": "Configurar servidor Socket.io con CORS y middleware",
      "acceptanceCriteria": [
        "Socket.io v4+ instalado y configurado",
        "CORS configurado para frontend origin",
        "Middleware de autenticación",
        "Namespace /game creado",
        "Event logging middleware",
        "Manejo de errores global"
      ]
    },
    {
      "id": "TASK-012",
      "title": "Implementar Room Manager",
      "milestone": "H3",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["backend", "socket.io", "rooms"],
      "dependencies": ["TASK-011"],
      "description": "Sistema de salas para partidas individuales por usuario",
      "acceptanceCriteria": [
        "Map<userId, GameState> para gestionar partidas activas",
        "Método createRoom(userId): roomId",
        "Método joinRoom(userId, roomId): boolean",
        "Método leaveRoom(userId): void",
        "Cleanup automático de salas inactivas (30 min)",
        "Límite de 1 partida activa por usuario"
      ]
    },
    {
      "id": "TASK-013",
      "title": "Implementar Event Handlers - Input del Cliente",
      "milestone": "H3",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 6,
      "assignee": null,
      "labels": ["backend", "socket.io", "event-handlers", "critical"],
      "dependencies": ["TASK-012", "TASK-006"],
      "description": "Handlers para eventos del cliente: move, rotate, drop",
      "acceptanceCriteria": [
        "Handler player:move (left, right, down)",
        "Handler player:rotate (clockwise, counterclockwise)",
        "Handler player:hard-drop",
        "Handler player:hold-piece",
        "Validación anti-cheat en cada handler",
        "Rate limiting: máx 20 acciones/segundo",
        "Emisión de estado actualizado tras cada acción"
      ]
    },
    {
      "id": "TASK-014",
      "title": "Implementar Event Emitters - Estado del Servidor",
      "milestone": "H3",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["backend", "socket.io", "event-emitters"],
      "dependencies": ["TASK-013"],
      "description": "Emisión de eventos del servidor al cliente",
      "acceptanceCriteria": [
        "Evento game:state-update con estado completo",
        "Evento game:tick para caída automática",
        "Evento game:lines-cleared con puntuación",
        "Evento game:game-over con puntuación final",
        "Evento game:error con mensaje de error",
        "Throttling de actualizaciones: 60 FPS máx"
      ]
    },
    {
      "id": "TASK-015",
      "title": "Implementar Sistema de Reconexión",
      "milestone": "H3",
      "status": "TODO",
      "priority": "MEDIUM",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["backend", "socket.io", "reliability"],
      "dependencies": ["TASK-014"],
      "description": "Recuperación de estado tras desconexión del cliente",
      "acceptanceCriteria": [
        "Persistir estado en memoria durante 5 minutos post-desconexión",
        "Handler player:reconnect con recuperación de estado",
        "Validación de identidad del usuario (JWT)",
        "Reanudar ticker desde último estado",
        "Notificación al cliente de estado recuperado"
      ]
    },
    {
      "id": "TASK-016",
      "title": "Configurar Aegis JWT",
      "milestone": "H4",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 3,
      "assignee": null,
      "labels": ["backend", "auth", "security"],
      "dependencies": ["TASK-002"],
      "description": "Instalar y configurar biblioteca Aegis para JWT",
      "acceptanceCriteria": [
        "Aegis (o jsonwebtoken) instalado",
        "Secret key cargada desde .env",
        "Token lifetime: 24h",
        "Refresh token lifetime: 7d",
        "Algoritmo HS256 configurado",
        "Tipos TypeScript para JWTPayload"
      ]
    },
    {
      "id": "TASK-017",
      "title": "Implementar Endpoints de Autenticación",
      "milestone": "H4",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 6,
      "assignee": null,
      "labels": ["backend", "auth", "endpoints", "critical"],
      "dependencies": ["TASK-016"],
      "description": "REST endpoints para registro, login, refresh",
      "acceptanceCriteria": [
        "POST /auth/register (username, password)",
        "POST /auth/login (username, password)",
        "POST /auth/refresh (refreshToken)",
        "POST /auth/logout",
        "Validación de entrada con Zod",
        "Hashing de passwords con bcrypt (12 rounds)",
        "Respuesta con accessToken y refreshToken"
      ]
    },
    {
      "id": "TASK-018",
      "title": "Implementar Middleware de Autenticación Socket.io",
      "milestone": "H4",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["backend", "auth", "socket.io", "security", "critical"],
      "dependencies": ["TASK-017", "TASK-011"],
      "description": "Middleware para validar JWT en conexión Socket.io",
      "acceptanceCriteria": [
        "Middleware que intercepta handshake",
        "Extrae token de auth.token o query.token",
        "Valida token con Aegis",
        "Adjunta userId al socket",
        "Rechaza conexión si token inválido",
        "Tests con tokens válidos/inválidos/expirados"
      ]
    },
    {
      "id": "TASK-019",
      "title": "Implementar Sistema de Usuarios",
      "milestone": "H4",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["backend", "auth", "database"],
      "dependencies": ["TASK-016"],
      "description": "Modelo de usuarios con persistencia en Redis",
      "acceptanceCriteria": [
        "Interfaz User: userId, username, passwordHash, createdAt",
        "Métodos: createUser, findUserByUsername, findUserById",
        "Almacenamiento en Redis con prefijo user:",
        "Username único (validación)",
        "Email opcional para recuperación"
      ]
    },
    {
      "id": "TASK-020",
      "title": "Configurar Conexión a Redis",
      "milestone": "H5",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["backend", "redis", "infrastructure"],
      "dependencies": ["TASK-002"],
      "description": "Setup de cliente Redis con retry logic",
      "acceptanceCriteria": [
        "ioredis instalado y configurado",
        "Conexión a Redis (localhost:6379 o env variable)",
        "Retry strategy: 3 intentos con backoff",
        "Health check endpoint /health/redis",
        "Graceful shutdown on SIGTERM",
        "Tests de conexión y desconexión"
      ]
    },
    {
      "id": "TASK-021",
      "title": "Implementar Leaderboard con Sorted Sets",
      "milestone": "H5",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["backend", "redis", "leaderboard", "core"],
      "dependencies": ["TASK-020"],
      "description": "Sistema de ranking global usando ZADD/ZRANGE",
      "acceptanceCriteria": [
        "Sorted Set leaderboard:global con scores",
        "Método addScore(userId, score): void",
        "Método getTopPlayers(limit): Player[]",
        "Método getUserRank(userId): number",
        "Método getUserScore(userId): number",
        "Actualización atómica con ZINCRBY",
        "Tests con múltiples usuarios y scores"
      ]
    },
    {
      "id": "TASK-022",
      "title": "Implementar API REST para Leaderboard",
      "milestone": "H5",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 3,
      "assignee": null,
      "labels": ["backend", "redis", "api", "leaderboard"],
      "dependencies": ["TASK-021"],
      "description": "Endpoints públicos para consultar leaderboard",
      "acceptanceCriteria": [
        "GET /leaderboard/top/:limit",
        "GET /leaderboard/user/:userId",
        "GET /leaderboard/rank/:userId",
        "Cache de respuestas (60 segundos)",
        "Paginación para top N",
        "Formato JSON estándar"
      ]
    },
    {
      "id": "TASK-023",
      "title": "Implementar Sistema de Daily/Weekly Leaderboards",
      "milestone": "H5",
      "status": "TODO",
      "priority": "LOW",
      "estimatedHours": 6,
      "assignee": null,
      "labels": ["backend", "redis", "leaderboard", "scheduling"],
      "dependencies": ["TASK-021"],
      "description": "Leaderboards temporales con TTL automático",
      "acceptanceCriteria": [
        "Sorted Set leaderboard:daily:{date}",
        "Sorted Set leaderboard:weekly:{week}",
        "TTL automático: 24h (daily), 7d (weekly)",
        "Actualización paralela con global",
        "Endpoints GET para cada leaderboard",
        "Cron job para reset diario/semanal"
      ]
    },
    {
      "id": "TASK-024",
      "title": "Configurar Cliente Socket.io",
      "milestone": "H6",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["frontend", "socket.io", "infrastructure"],
      "dependencies": ["TASK-003"],
      "description": "Setup de socket.io-client con auto-reconexión",
      "acceptanceCriteria": [
        "socket.io-client instalado",
        "Servicio SocketService como singleton",
        "Auto-reconexión habilitada",
        "Event listeners tipo-safe con TypeScript",
        "Manejo de estados: connecting, connected, disconnected",
        "Hook useSocket() para componentes"
      ]
    },
    {
      "id": "TASK-025",
      "title": "Implementar Sistema de Autenticación Frontend",
      "milestone": "H6",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 6,
      "assignee": null,
      "labels": ["frontend", "auth", "ui"],
      "dependencies": ["TASK-024", "TASK-017"],
      "description": "Login/Register forms con gestión de tokens",
      "acceptanceCriteria": [
        "Componente LoginForm con validación",
        "Componente RegisterForm con validación",
        "AuthContext para estado global de auth",
        "LocalStorage para persistir tokens",
        "Auto-refresh de tokens antes de expirar",
        "Redirección a /login si no autenticado"
      ]
    },
    {
      "id": "TASK-026",
      "title": "Implementar Hook useGameState",
      "milestone": "H6",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["frontend", "hooks", "state-management"],
      "dependencies": ["TASK-024"],
      "description": "Custom hook para suscribirse al estado del juego",
      "acceptanceCriteria": [
        "Hook useGameState() que escucha game:state-update",
        "Estado local sincronizado con servidor",
        "Tipos TypeScript para GameState",
        "Manejo de loading y error states",
        "Re-render optimizado con useMemo",
        "Tests con React Testing Library"
      ]
    },
    {
      "id": "TASK-027",
      "title": "Implementar Componente GameBoard",
      "milestone": "H6",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 6,
      "assignee": null,
      "labels": ["frontend", "ui", "game-view", "critical"],
      "dependencies": ["TASK-026"],
      "description": "Renderizado de matriz 10x20 con canvas o divs",
      "acceptanceCriteria": [
        "Componente GameBoard que recibe matriz 10x20",
        "Renderizado con CSS Grid o Canvas",
        "Colores distintos por tipo de tetromino",
        "Celdas de 30x30px",
        "Animación suave de piezas cayendo",
        "Responsive (escala en móviles)"
      ]
    },
    {
      "id": "TASK-028",
      "title": "Implementar Componente NextPieces",
      "milestone": "H6",
      "status": "TODO",
      "priority": "MEDIUM",
      "estimatedHours": 3,
      "assignee": null,
      "labels": ["frontend", "ui", "game-view"],
      "dependencies": ["TASK-027"],
      "description": "Vista previa de siguiente(s) pieza(s)",
      "acceptanceCriteria": [
        "Componente NextPieces que muestra 3 siguientes piezas",
        "Mini-grid 4x4 por pieza",
        "Colores consistentes con GameBoard",
        "Posicionado a la derecha del tablero",
        "Diseño tipo Tetris oficial"
      ]
    },
    {
      "id": "TASK-029",
      "title": "Implementar Sistema de Input del Jugador",
      "milestone": "H6",
      "status": "TODO",
      "priority": "CRITICAL",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["frontend", "input", "user-interaction", "critical"],
      "dependencies": ["TASK-024"],
      "description": "Captura de teclas y emisión de eventos al servidor",
      "acceptanceCriteria": [
        "Hook useKeyboard() para detectar teclas",
        "Mapeo: ArrowLeft (mover izq), ArrowRight (mover der)",
        "Mapeo: ArrowDown (soft drop), Space (hard drop)",
        "Mapeo: ArrowUp o Z/X (rotar)",
        "Mapeo: C o Shift (hold piece)",
        "Emitir eventos al servidor vía socket",
        "Debounce para prevenir spam"
      ]
    },
    {
      "id": "TASK-030",
      "title": "Implementar Componente ScorePanel",
      "milestone": "H6",
      "status": "TODO",
      "priority": "MEDIUM",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["frontend", "ui", "score"],
      "dependencies": ["TASK-026", "TASK-022"],
      "description": "Panel con score, nivel, líneas, leaderboard",
      "acceptanceCriteria": [
        "Mostrar: Score actual, Nivel, Líneas completadas",
        "Mostrar: High Score personal",
        "Mostrar: Top 5 del leaderboard global",
        "Actualización en tiempo real",
        "Diseño lateral o superior"
      ]
    },
    {
      "id": "TASK-031",
      "title": "Implementar Pantallas de Estado (Game Over, Pause)",
      "milestone": "H6",
      "status": "TODO",
      "priority": "MEDIUM",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["frontend", "ui", "game-states"],
      "dependencies": ["TASK-027"],
      "description": "Overlays para estados no-jugables",
      "acceptanceCriteria": [
        "Modal GameOver con score final y botón Jugar de Nuevo",
        "Modal Pause con botón Reanudar",
        "Modal Connecting si conexión se pierde",
        "Diseño con transparencia sobre el tablero",
        "Animaciones de entrada/salida"
      ]
    },
    {
      "id": "TASK-032",
      "title": "Implementar Leaderboard View",
      "milestone": "H6",
      "status": "TODO",
      "priority": "LOW",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["frontend", "ui", "leaderboard"],
      "dependencies": ["TASK-022", "TASK-023"],
      "description": "Página completa de leaderboard con tabs",
      "acceptanceCriteria": [
        "Tabs: Global, Daily, Weekly",
        "Tabla con columnas: Rank, Usuario, Score, Fecha",
        "Highlight del usuario actual",
        "Paginación (50 por página)",
        "Auto-refresh cada 30 segundos",
        "Skeleton loading state"
      ]
    },
    {
      "id": "TASK-033",
      "title": "Tests Unitarios Backend",
      "milestone": "H7",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 8,
      "assignee": null,
      "labels": ["backend", "testing", "quality"],
      "dependencies": ["TASK-010"],
      "description": "Cobertura de tests para lógica core del backend",
      "acceptanceCriteria": [
        "Jest configurado con TypeScript",
        "Tests para GameBoard, Tetromino, Validation",
        "Tests para ScoreManager",
        "Tests para JWT generation/validation",
        "Cobertura >80% en /src/game",
        "Ejecución con npm test"
      ]
    },
    {
      "id": "TASK-034",
      "title": "Tests de Integración Socket.io",
      "milestone": "H7",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 6,
      "assignee": null,
      "labels": ["backend", "testing", "integration"],
      "dependencies": ["TASK-015", "TASK-018"],
      "description": "Tests end-to-end del flujo Socket.io",
      "acceptanceCriteria": [
        "Socket.io-client en tests con mock server",
        "Test: Conectar con JWT válido",
        "Test: Rechazo con JWT inválido",
        "Test: Flujo completo de partida",
        "Test: Reconexión tras desconexión",
        "Ejecución aislada con servidor test"
      ]
    },
    {
      "id": "TASK-035",
      "title": "Tests Frontend con React Testing Library",
      "milestone": "H7",
      "status": "TODO",
      "priority": "MEDIUM",
      "estimatedHours": 6,
      "assignee": null,
      "labels": ["frontend", "testing", "quality"],
      "dependencies": ["TASK-031"],
      "description": "Tests de componentes y hooks",
      "acceptanceCriteria": [
        "React Testing Library configurado",
        "Tests para LoginForm, RegisterForm",
        "Tests para GameBoard rendering",
        "Tests para useGameState hook",
        "Tests para useKeyboard hook",
        "Cobertura >70% en componentes críticos"
      ]
    },
    {
      "id": "TASK-036",
      "title": "Tests E2E con Playwright",
      "milestone": "H7",
      "status": "TODO",
      "priority": "MEDIUM",
      "estimatedHours": 8,
      "assignee": null,
      "labels": ["e2e", "testing", "quality"],
      "dependencies": ["TASK-032"],
      "description": "Tests end-to-end del flujo completo",
      "acceptanceCriteria": [
        "Playwright configurado",
        "Test: Registro → Login → Jugar partida",
        "Test: Movimientos básicos y rotaciones",
        "Test: Game Over y restart",
        "Test: Leaderboard actualizado tras partida",
        "CI/CD pipeline ejecuta tests E2E"
      ]
    },
    {
      "id": "TASK-037",
      "title": "Configurar Docker",
      "milestone": "H8",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["devops", "docker", "infrastructure"],
      "dependencies": ["TASK-020"],
      "description": "Dockerfiles y docker-compose para desarrollo",
      "acceptanceCriteria": [
        "Dockerfile para backend (multi-stage)",
        "Dockerfile para frontend (nginx)",
        "docker-compose.yml con: backend, frontend, redis",
        "Variables de entorno en .env.example",
        "Volúmenes persistentes para Redis",
        "docker-compose up levanta todo el stack"
      ]
    },
    {
      "id": "TASK-038",
      "title": "Configurar CI/CD Pipeline",
      "milestone": "H8",
      "status": "TODO",
      "priority": "HIGH",
      "estimatedHours": 5,
      "assignee": null,
      "labels": ["devops", "ci-cd", "automation"],
      "dependencies": ["TASK-033", "TASK-035"],
      "description": "GitHub Actions para CI/CD",
      "acceptanceCriteria": [
        "Workflow para pull requests: lint, test, build",
        "Workflow para main: deploy a staging",
        "Cacheo de node_modules",
        "Code coverage reports",
        "Notificaciones de fallos",
        "Secrets para credenciales"
      ]
    },
    {
      "id": "TASK-039",
      "title": "Configurar Monitoreo y Logging",
      "milestone": "H8",
      "status": "TODO",
      "priority": "MEDIUM",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["devops", "observability", "logging"],
      "dependencies": ["TASK-014"],
      "description": "Winston para logs estructurados y métricas",
      "acceptanceCriteria": [
        "Winston configurado con niveles: error, warn, info, debug",
        "Logs rotativos (1 archivo por día)",
        "Contexto en logs: userId, roomId, action",
        "Métricas: partidas activas, usuarios conectados",
        "Dashboard básico (opcional: Grafana)"
      ]
    },
    {
      "id": "TASK-040",
      "title": "Documentación de API",
      "milestone": "H8",
      "status": "TODO",
      "priority": "LOW",
      "estimatedHours": 4,
      "assignee": null,
      "labels": ["documentation", "api"],
      "dependencies": ["TASK-022"],
      "description": "Swagger/OpenAPI para REST endpoints",
      "acceptanceCriteria": [
        "Swagger UI en /api-docs",
        "Documentación de todos los endpoints REST",
        "Ejemplos de request/response",
        "Documentación de eventos Socket.io",
        "README con arquitectura y setup"
      ]
    }
  ],
  "labels": [
    { "name": "setup", "color": "#0052CC", "description": "Configuración inicial" },
    { "name": "infrastructure", "color": "#0052CC", "description": "Infraestructura y servicios base" },
    { "name": "backend", "color": "#5319E7", "description": "Desarrollo backend" },
    { "name": "frontend", "color": "#00B8D9", "description": "Desarrollo frontend" },
    { "name": "game-logic", "color": "#FF5630", "description": "Lógica del juego" },
    { "name": "core", "color": "#FF5630", "description": "Funcionalidad core" },
    { "name": "socket.io", "color": "#6554C0", "description": "Comunicación real-time" },
    { "name": "event-handlers", "color": "#6554C0", "description": "Manejadores de eventos" },
    { "name": "auth", "color": "#FFAB00", "description": "Autenticación y autorización" },
    { "name": "security", "color": "#FF5630", "description": "Seguridad" },
    { "name": "critical", "color": "#DE350B", "description": "Tarea crítica en camino crítico" },
    { "name": "redis", "color": "#00875A", "description": "Base de datos Redis" },
    { "name": "leaderboard", "color": "#00875A", "description": "Sistema de leaderboard" },
    { "name": "ui", "color": "#00B8D9", "description": "Interfaz de usuario" },
    { "name": "game-view", "color": "#00B8D9", "description": "Vista del juego" },
    { "name": "input", "color": "#00B8D9", "description": "Sistema de entrada" },
    { "name": "testing", "color": "#36B37E", "description": "Tests y QA" },
    { "name": "quality", "color": "#36B37E", "description": "Calidad de código" },
    { "name": "e2e", "color": "#36B37E", "description": "Tests end-to-end" },
    { "name": "devops", "color": "#172B4D", "description": "DevOps y deployment" },
    { "name": "docker", "color": "#172B4D", "description": "Containerización" },
    { "name": "ci-cd", "color": "#172B4D", "description": "Integración y despliegue continuo" },
    { "name": "documentation", "color": "#8993A4", "description": "Documentación" },
    { "name": "api", "color": "#8993A4", "description": "APIs REST" }
  ],
  "sprints": [
    {
      "id": 1,
      "name": "Sprint 1: Fundamentos",
      "startDate": "2025-W01",
      "endDate": "2025-W01",
      "goals": [
        "Setup completo del proyecto",
        "Lógica core del juego implementada",
        "Autenticación básica funcionando"
      ],
      "tasks": ["TASK-001", "TASK-002", "TASK-003", "TASK-004", "TASK-005", "TASK-006", "TASK-016", "TASK-017"]
    },
    {
      "id": 2,
      "name": "Sprint 2: Backend Completo",
      "startDate": "2025-W02",
      "endDate": "2025-W02",
      "goals": [
        "Game logic completa con scoring",
        "Socket.io funcionando con rooms",
        "Redis con leaderboard básico"
      ],
      "tasks": ["TASK-007", "TASK-008", "TASK-009", "TASK-010", "TASK-011", "TASK-012", "TASK-013", "TASK-014", "TASK-020", "TASK-021"]
    },
    {
      "id": 3,
      "name": "Sprint 3: Frontend Completo",
      "startDate": "2025-W03",
      "endDate": "2025-W03",
      "goals": [
        "Auth middleware crítico implementado",
        "UI del juego completamente funcional",
        "Input system y comunicación con servidor"
      ],
      "tasks": ["TASK-018", "TASK-024", "TASK-025", "TASK-026", "TASK-027", "TASK-029", "TASK-022"]
    },
    {
      "id": 4,
      "name": "Sprint 4: Integración y Pulido",
      "startDate": "2025-W04",
      "endDate": "2025-W04",
      "goals": [
        "UI completa con todas las vistas",
        "Sistema de reconexión",
        "Tests de backend y frontend"
      ],
      "tasks": ["TASK-028", "TASK-030", "TASK-031", "TASK-032", "TASK-015", "TASK-033", "TASK-034", "TASK-035"]
    },
    {
      "id": 5,
      "name": "Sprint 5: DevOps y Extras",
      "startDate": "2025-W05",
      "endDate": "2025-W05",
      "goals": [
        "Leaderboards temporales",
        "Docker y CI/CD configurados",
        "Tests E2E y documentación"
      ],
      "tasks": ["TASK-023", "TASK-036", "TASK-037", "TASK-038", "TASK-039", "TASK-040", "TASK-019"]
    }
  ],
  "metrics": {
    "totalTasks": 40,
    "totalEstimatedHours": 186,
    "criticalPathTasks": 9,
    "averageTaskHours": 4.65,
    "successCriteria": {
      "technical": [
        "Cobertura de tests >80% backend, >70% frontend",
        "Latencia Socket.io <50ms promedio",
        "Tick rate estable a 60 FPS",
        "100% validación server-side (anti-cheat)"
      ],
      "product": [
        "Tiempo de partida: 3-10 minutos promedio",
        "Soportar 100+ usuarios concurrentes",
        "Leaderboard actualizado en <1 segundo",
        "Reconexión en <3 segundos"
      ]
    }
  }
}
